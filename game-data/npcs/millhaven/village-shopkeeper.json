{
  "id": "village-shopkeeper",
  "name": "Pip Haversham",
  "title": "Shopkeeper",
  "race": "Halfling",
  "description": "A cheerful halfling with rosy cheeks and an infectious smile. His shop is tidy and welcoming, with every item neatly organized and clearly priced.",
  "schedule": [
    {
      "start": 0,
      "end": 420,
      "location": "pip_home",
      "state": "sleeping",
      "dialogue_options": ["sleeping"],
      "available_actions": []
    },
    {
      "start": 420,
      "end": 480,
      "location": "village-west",
      "state": "traveling",
      "dialogue_options": ["traveling_to_work"],
      "available_actions": []
    },
    {
      "start": 480,
      "end": 1200,
      "location": "general_store",
      "state": "working",
      "dialogue_options": ["main_menu"],
      "available_actions": ["open_shop", "open_sell"]
    },
    {
      "start": 1200,
      "end": 1260,
      "location": "village-west",
      "state": "traveling",
      "dialogue_options": ["traveling_home"],
      "available_actions": []
    },
    {
      "start": 1260,
      "end": 1440,
      "location_type": "building",
      "location_id": "pip_home",
      "state": "home",
      "dialogue_options": ["off_duty"],
      "available_actions": []
    }
  ],
  "greeting": {
    "first_time": "Oh hello! Welcome to Haversham's! I'm Pip, and this is my family's store. How wonderful to have a visitor! What can I help you find?",
    "returning": "Back so soon! Lovely to see you again, dear!",
    "low_gold": "Oh my, I've been buying quite a lot today! My coin purse is looking rather empty. Perhaps check back tomorrow?"
  },
  "dialogue": {
    "sleeping": {
      "text": "*snoring softly* Mmm... just five more minutes, dear...",
      "options": ["goodbye"]
    },
    "traveling_to_work": {
      "text": "Good morning! I'm just heading to open the shop. Do stop by Haversham's if you need anything!",
      "options": ["goodbye"]
    },
    "traveling_home": {
      "text": "Shop's closed for the day! I'm heading home for a nice cup of tea. Come by tomorrow during business hours!",
      "options": ["goodbye"]
    },
    "off_duty": {
      "text": "I'm off for the evening, dear! Visit Haversham's tomorrow—I'll have fresh stock ready for you!",
      "options": ["goodbye"]
    },
    "main_menu": {
      "text": "What brings you to our little shop today?",
      "options": ["browse_shop", "sell_items", "ask_about_village", "goodbye"]
    },
    "browse_shop": {
      "text": "Please, have a look around! Everything's priced fairly—we pride ourselves on honest business here in Millhaven!",
      "action": "open_shop"
    },
    "sell_items": {
      "text": "Oh, looking to sell? I'd be happy to buy, as long as I have enough coin!",
      "action": "open_sell",
      "requirements": {
        "shop_gold": 1
      },
      "failure": "Oh dear, I'm afraid I'm a bit short on coin right now. Check back tomorrow after I've made some sales!"
    },
    "ask_about_village": {
      "text": "Millhaven is a wonderful place! Everyone knows everyone, and we all look out for each other. If you're planning to stay, do visit the Burrowlock—Rosie can set you up with storage!"
    },
    "goodbye": {
      "text": "Safe travels, friend! Do come back anytime—there's always a warm welcome at Haversham's!",
      "action": "end_dialogue"
    }
  },
  "shop_config": {
    "shop_type": "general",
    "buys_items": true,
    "starting_gold": 300,
    "gold_regen_rate": 75,
    "gold_regen_interval": "daily",
    "gold_restock_interval": 30,
    "item_restock_interval": 10,
    "inventory": [
      {"item_id": "rope-hemp", "stock": 8, "max_stock": 8},
      {"item_id": "torch", "stock": 15, "max_stock": 15},
      {"item_id": "rations", "stock": 25, "max_stock": 25},
      {"item_id": "waterskin", "stock": 12, "max_stock": 12},
      {"item_id": "backpack", "stock": 4, "max_stock": 4},
      {"item_id": "bedroll", "stock": 6, "max_stock": 6},
      {"item_id": "tinderbox", "stock": 8, "max_stock": 8}
    ]
  }
}
