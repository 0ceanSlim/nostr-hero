# GitHub Actions Workflow for Test Server Auto-Deployment
# Requires: Self-hosted runner on test server
# Setup: https://docs.github.com/en/actions/hosting-your-own-runners

name: Deploy to Test Server

on:
  push:
    branches:
      - main  # or 'test' if you create a separate branch

jobs:
  deploy:
    runs-on: self-hosted  # Runs on your server, no credentials needed

    steps:
      - name: Pull latest code
        run: |
          echo "ðŸ“¥ Pulling latest code..."
          cd /path/to/nostr-hero
          git pull origin main

      - name: Restart service
        run: |
          echo "ðŸ”„ Restarting service..."
          sudo systemctl restart nostr-hero-test

      - name: Check service status
        run: |
          echo "âœ… Checking service status..."
          sudo systemctl status nostr-hero-test --no-pager
