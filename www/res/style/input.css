@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Global pixel-perfect rendering for images */
  img, canvas, .pixel-art {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  /* Ensure Dogica font renders crisply */
  body, html {
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: grayscale;
    font-smooth: never;
    text-rendering: optimizeSpeed;
  }

  :root,
  :root[data-theme="dark"] {
    --color-bgPrimary: rgb(16, 16, 16);
    --color-bgSecondary: rgb(40, 40, 40);
    --color-bgTertiary: rgb(30, 30, 30);
    --color-bgInverted: rgb(225, 225, 225);
    --color-textPrimary: rgb(255, 255, 255);
    --color-textSecondary: rgb(235, 235, 235);
    --color-textMuted: rgb(200, 200, 200);
    --color-textInverted: rgb(16, 16, 16);
    --color-textHighlighted: rgb(149, 40, 244);
  }
  :root[data-theme="light"] {
    --color-bgPrimary: rgb(230, 230, 230);
    --color-bgSecondary: rgb(200, 200, 200);
    --color-bgTertiary: rgb(180, 180, 180);
    --color-bgInverted: rgb(80, 80, 80);
    --color-textPrimary: rgb(0, 0, 0);
    --color-textSecondary: rgb(20, 20, 20);
    --color-textMuted: rgb(100, 100, 100);
    --color-textInverted: rgb(255, 255, 255);
    --color-textHighlighted: rgb(149, 40, 244);
  }
  :root[data-theme="midnight"] {
    --color-bgPrimary: rgb(25, 24, 48);
    --color-bgSecondary: rgb(31, 31, 65);
    --color-bgTertiary: rgb(45, 45, 85);
    --color-bgInverted: rgb(103, 241, 243);
    --color-textPrimary: rgb(177, 174, 255);
    --color-textSecondary: rgb(150, 147, 230);
    --color-textMuted: rgb(108, 105, 180);
    --color-textInverted: rgb(25, 24, 48);
    --color-textHighlighted: rgb(250, 208, 0);
  }
  :root[data-theme="lava"] {
    --color-bgPrimary: rgb(57, 0, 0);
    --color-bgSecondary: rgb(97, 0, 0);
    --color-bgTertiary: rgb(137, 20, 20);
    --color-bgInverted: rgb(0, 0, 0);
    --color-textPrimary: rgb(255, 90, 90);
    --color-textSecondary: rgb(241, 39, 39);
    --color-textMuted: rgb(180, 50, 50);
    --color-textInverted: rgb(255, 255, 255);
    --color-textHighlighted: rgb(255, 114, 154);
  }
  :root[data-theme="solar"] {
    --color-bgPrimary: rgb(0, 43, 54);
    --color-bgSecondary: rgb(7, 54, 66);
    --color-bgTertiary: rgb(0, 80, 90);
    --color-bgInverted: rgb(238, 232, 213);
    --color-textPrimary: rgb(131, 148, 150);
    --color-textSecondary: rgb(147, 161, 161);
    --color-textMuted: rgb(88, 110, 117);
    --color-textInverted: rgb(0, 43, 54);
    --color-textHighlighted: rgb(38, 139, 210);
  }
  :root[data-theme="matrix"] {
    --color-bgPrimary: rgb(0, 0, 0);
    --color-bgSecondary: rgb(0, 20, 0);
    --color-bgTertiary: rgb(0, 40, 0);
    --color-bgInverted: rgb(0, 255, 65);
    --color-textPrimary: rgb(0, 255, 65);
    --color-textSecondary: rgb(0, 200, 50);
    --color-textMuted: rgb(0, 150, 35);
    --color-textInverted: rgb(0, 0, 0);
    --color-textHighlighted: rgb(0, 255, 100);
  }

  /* Webkit scrollbar styles */
  ::-webkit-scrollbar {
    width: 0.625rem;
  }

  ::-webkit-scrollbar-track {
    background-color: transparent;
    border-radius: 0.375rem;
  }

  ::-webkit-scrollbar-thumb {
    background-color: transparent;
    border-radius: 0.375rem;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(16, 16, 16, 0.3);
  }

  /* Firefox scrollbar styles */
  * {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
  }

  *:hover {
    scrollbar-color: rgba(16, 16, 16, 0.3) transparent;
  }

  /* Ensure that hover effects and responsive layouts are smooth */
  .group:hover .group-hover\:block {
    display: block;
  }

  /* Optional: Transition for dropdowns */
  .transition-dropdown {
    transition: all 0.3s ease-in-out;
  }
}

/* Pixel-art styling */
.pixel-border {
  border-radius: 0;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  box-shadow:
    0 0 0 2px #ca8a04,
    4px 0 0 2px #1f2937,
    -4px 0 0 2px #1f2937,
    0 4px 0 2px #1f2937,
    0 -4px 0 2px #1f2937,
    4px 4px 0 2px #1f2937,
    -4px -4px 0 2px #1f2937,
    4px -4px 0 2px #1f2937,
    -4px 4px 0 2px #1f2937;
}

/* Custom CSS for mobile dropdown alignment */
@media (max-width: 1024px) {
  #navbar {
    position: absolute; /* Ensure dropdown is relative to the header */
    top: 100%; /* Position it below the header */
    left: 0;
    right: 0;
    z-index: 20;
    background-color: var(--color-bgSecondary); /* Matches your theme */
    padding: 1rem;
    border-top: 1px solid var(--color-bgInverted);
  }
}

/* ========================================
   Win95-Style UI Components
   ======================================== */
@layer components {
  /* Inset border (sunken appearance) - uses theme colors */
  .win95-inset {
    background: var(--color-bgSecondary);
    border-top: 2px solid var(--color-bgPrimary);
    border-left: 2px solid var(--color-bgPrimary);
    border-right: 2px solid var(--color-bgTertiary);
    border-bottom: 2px solid var(--color-bgTertiary);
    box-shadow: inset -1px -1px 0 var(--color-bgTertiary), inset 1px 1px 0 var(--color-bgPrimary);
  }

  /* Outset border (raised appearance) - uses theme colors */
  .win95-outset {
    background: var(--color-bgSecondary);
    border-top: 2px solid var(--color-bgTertiary);
    border-left: 2px solid var(--color-bgTertiary);
    border-right: 2px solid var(--color-bgPrimary);
    border-bottom: 2px solid var(--color-bgPrimary);
  }

  /* Pressed button state - uses theme colors */
  .win95-button-pressed {
    background: var(--color-bgPrimary);
    border-top: 2px solid var(--color-bgPrimary);
    border-left: 2px solid var(--color-bgPrimary);
    border-right: 2px solid var(--color-bgTertiary);
    border-bottom: 2px solid var(--color-bgTertiary);
  }

  /* Win95 button base (unpressed) - uses theme colors */
  .win95-button {
    background: var(--color-bgSecondary);
    border-top: 2px solid var(--color-bgTertiary);
    border-left: 2px solid var(--color-bgTertiary);
    border-right: 2px solid var(--color-bgPrimary);
    border-bottom: 2px solid var(--color-bgPrimary);
    transition: all 0.1s;
  }

  .win95-button:hover {
    background: var(--color-bgTertiary);
  }

  .win95-button:active {
    background: var(--color-bgPrimary);
    border-top: 2px solid var(--color-bgPrimary);
    border-left: 2px solid var(--color-bgPrimary);
    border-right: 2px solid var(--color-bgTertiary);
    border-bottom: 2px solid var(--color-bgTertiary);
  }

  /* Pixelated embossed button with stronger borders */
  .pixel-button {
    background: var(--color-bgSecondary);
    border: none;
    box-shadow:
      3px 0 0 0 var(--color-bgTertiary),
      0 3px 0 0 var(--color-bgTertiary),
      -3px 0 0 0 var(--color-bgPrimary),
      0 -3px 0 0 var(--color-bgPrimary),
      3px 3px 0 0 var(--color-bgTertiary),
      -3px -3px 0 0 var(--color-bgPrimary);
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .pixel-button:hover {
    background: var(--color-bgTertiary);
  }

  .pixel-button:active {
    background: var(--color-bgPrimary);
    box-shadow:
      3px 0 0 0 var(--color-bgPrimary),
      0 3px 0 0 var(--color-bgPrimary),
      -3px 0 0 0 var(--color-bgTertiary),
      0 -3px 0 0 var(--color-bgTertiary),
      3px 3px 0 0 var(--color-bgPrimary),
      -3px -3px 0 0 var(--color-bgTertiary);
  }

  /* Login button with green color */
  .login-button {
    background: rgb(46, 125, 50);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(76, 175, 80),
      0 3px 0 0 rgb(76, 175, 80),
      -3px 0 0 0 rgb(27, 94, 32),
      0 -3px 0 0 rgb(27, 94, 32),
      3px 3px 0 0 rgb(76, 175, 80),
      -3px -3px 0 0 rgb(27, 94, 32);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .login-button:hover {
    background: rgb(56, 142, 60);
  }

  .login-button:active {
    background: rgb(27, 94, 32);
    box-shadow:
      3px 0 0 0 rgb(27, 94, 32),
      0 3px 0 0 rgb(27, 94, 32),
      -3px 0 0 0 rgb(76, 175, 80),
      0 -3px 0 0 rgb(76, 175, 80),
      3px 3px 0 0 rgb(27, 94, 32),
      -3px -3px 0 0 rgb(76, 175, 80);
  }

  /* Logout button with red color */
  .logout-button {
    background: rgb(183, 28, 28);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(239, 68, 68),
      0 3px 0 0 rgb(239, 68, 68),
      -3px 0 0 0 rgb(127, 29, 29),
      0 -3px 0 0 rgb(127, 29, 29),
      3px 3px 0 0 rgb(239, 68, 68),
      -3px -3px 0 0 rgb(127, 29, 29);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .logout-button:hover {
    background: rgb(220, 38, 38);
  }

  .logout-button:active {
    background: rgb(127, 29, 29);
    box-shadow:
      3px 0 0 0 rgb(127, 29, 29),
      0 3px 0 0 rgb(127, 29, 29),
      -3px 0 0 0 rgb(239, 68, 68),
      0 -3px 0 0 rgb(239, 68, 68),
      3px 3px 0 0 rgb(127, 29, 29),
      -3px -3px 0 0 rgb(239, 68, 68);
  }

  /* Blue button for browser extension */
  .blue-button {
    background: rgb(29, 78, 216);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(59, 130, 246),
      0 3px 0 0 rgb(59, 130, 246),
      -3px 0 0 0 rgb(30, 58, 138),
      0 -3px 0 0 rgb(30, 58, 138),
      3px 3px 0 0 rgb(59, 130, 246),
      -3px -3px 0 0 rgb(30, 58, 138);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .blue-button:hover {
    background: rgb(37, 99, 235);
  }

  .blue-button:active {
    background: rgb(30, 58, 138);
    box-shadow:
      3px 0 0 0 rgb(30, 58, 138),
      0 3px 0 0 rgb(30, 58, 138),
      -3px 0 0 0 rgb(59, 130, 246),
      0 -3px 0 0 rgb(59, 130, 246),
      3px 3px 0 0 rgb(30, 58, 138),
      -3px -3px 0 0 rgb(59, 130, 246);
  }

  /* Orange button for Amber */
  .orange-button {
    background: rgb(234, 88, 12);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(251, 146, 60),
      0 3px 0 0 rgb(251, 146, 60),
      -3px 0 0 0 rgb(154, 52, 18),
      0 -3px 0 0 rgb(154, 52, 18),
      3px 3px 0 0 rgb(251, 146, 60),
      -3px -3px 0 0 rgb(154, 52, 18);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .orange-button:hover {
    background: rgb(249, 115, 22);
  }

  .orange-button:active {
    background: rgb(154, 52, 18);
    box-shadow:
      3px 0 0 0 rgb(154, 52, 18),
      0 3px 0 0 rgb(154, 52, 18),
      -3px 0 0 0 rgb(251, 146, 60),
      0 -3px 0 0 rgb(251, 146, 60),
      3px 3px 0 0 rgb(154, 52, 18),
      -3px -3px 0 0 rgb(251, 146, 60);
  }

  /* Red button for private key */
  .red-button {
    background: rgb(185, 28, 28);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(239, 68, 68),
      0 3px 0 0 rgb(239, 68, 68),
      -3px 0 0 0 rgb(127, 29, 29),
      0 -3px 0 0 rgb(127, 29, 29),
      3px 3px 0 0 rgb(239, 68, 68),
      -3px -3px 0 0 rgb(127, 29, 29);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .red-button:hover {
    background: rgb(220, 38, 38);
  }

  .red-button:active {
    background: rgb(127, 29, 29);
    box-shadow:
      3px 0 0 0 rgb(127, 29, 29),
      0 3px 0 0 rgb(127, 29, 29),
      -3px 0 0 0 rgb(239, 68, 68),
      0 -3px 0 0 rgb(239, 68, 68),
      3px 3px 0 0 rgb(127, 29, 29),
      -3px -3px 0 0 rgb(239, 68, 68);
  }

  /* Purple button for generate keys */
  .purple-button {
    background: rgb(126, 34, 206);
    border: none;
    box-shadow:
      3px 0 0 0 rgb(168, 85, 247),
      0 3px 0 0 rgb(168, 85, 247),
      -3px 0 0 0 rgb(88, 28, 135),
      0 -3px 0 0 rgb(88, 28, 135),
      3px 3px 0 0 rgb(168, 85, 247),
      -3px -3px 0 0 rgb(88, 28, 135);
    color: white;
    transition: all 0.1s;
    image-rendering: pixelated;
  }

  .purple-button:hover {
    background: rgb(147, 51, 234);
  }

  .purple-button:active {
    background: rgb(88, 28, 135);
    box-shadow:
      3px 0 0 0 rgb(88, 28, 135),
      0 3px 0 0 rgb(88, 28, 135),
      -3px 0 0 0 rgb(168, 85, 247),
      0 -3px 0 0 rgb(168, 85, 247),
      3px 3px 0 0 rgb(88, 28, 135),
      -3px -3px 0 0 rgb(168, 85, 247);
  }
}

/* ========================================
   Pixel-Art Utilities
   ======================================== */
@layer utilities {
  /* Pixelated rendering for images/canvas */
  .pixel-perfect {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  /* Pixel-perfect clipping (3px corners) */
  .pixel-clip {
    clip-path: polygon(3px 0, calc(100% - 3px) 0, 100% 3px, 100% calc(100% - 3px), calc(100% - 3px) 100%, 3px 100%, 0 calc(100% - 3px), 0 3px);
  }

  /* Smaller pixel clipping (2px corners) */
  .pixel-clip-sm {
    clip-path: polygon(2px 0, calc(100% - 2px) 0, 100% 2px, 100% calc(100% - 2px), calc(100% - 2px) 100%, 2px 100%, 0 calc(100% - 2px), 0 2px);
  }
}
